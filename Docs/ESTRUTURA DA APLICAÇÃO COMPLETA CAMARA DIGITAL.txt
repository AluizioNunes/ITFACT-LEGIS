# ğŸ—ï¸ ESTRUTURA COMPLETA DO PROJETO ITFACT-LEGIS

**Gerado automaticamente por Claude**  
**Data:** 04 de fevereiro de 2026  
**Baseado em:** Sistema Proton (CMM) - 477 tabelas, 265 funcionalidades  

---

## ğŸ“ ÃRVORE DE DIRETÃ“RIOS COMPLETA

```
C:\ITFACT-LEGIS-CODE\
â”‚
â”œâ”€â”€ ğŸ“¦ apps\
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ fastapi-backend\                    # Backend Python + FastAPI
â”‚   â”‚   â”œâ”€â”€ alembic\                           # Migrations do banco
â”‚   â”‚   â”‚   â”œâ”€â”€ versions\                      # Scripts de migraÃ§Ã£o
â”‚   â”‚   â”‚   â”œâ”€â”€ env.py
â”‚   â”‚   â”‚   â””â”€â”€ script.py.mako
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ app\
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ api\                           # Rotas da API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ deps.py                    # DependÃªncias injetÃ¡veis
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ v1\
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ router.py              # Router principal
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ endpoints\
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ auth.py            # AutenticaÃ§Ã£o
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ protocolos.py      # 265 funcionalidades
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ tramitacao.py      # CRUD completo
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ minutas.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ assinaturas.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ proposituras.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ arquivos.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ relatorios.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ usuarios.py
â”‚   â”‚   â”‚   â”‚           â”œâ”€â”€ search.py          # LightRAG
â”‚   â”‚   â”‚   â”‚           â””â”€â”€ ...                # 20+ endpoints
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ core\                          # Core da aplicaÃ§Ã£o
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ config.py                  # âœ… CRIADO
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ database.py                # ConexÃ£o PostgreSQL
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ redis.py                   # ConexÃ£o Redis
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ mongodb.py                 # ConexÃ£o MongoDB
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ security.py                # JWT, hashing, etc
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ logging_config.py          # ConfiguraÃ§Ã£o de logs
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ exceptions.py              # ExceÃ§Ãµes customizadas
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ crud\                          # CRUD operations
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base.py                    # CRUD base genÃ©rico
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_protocolo.py          # 477 CRUDS
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_tramitacao.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_minuta.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_assinatura.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_propositura.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ crud_usuario.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...                        # Todos os CRUDs
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ models\                        # SQLAlchemy Models (477 tabelas!)
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ base.py                    # Base class
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo.py               # Tabela principal
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo_documento.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo_arquivo.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo_movimento.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo_tramitacao.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ documento_assinatura.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ propositura_legislativa.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ minuta_legislativa.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ usuario.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ orgao.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assunto.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...                        # Mais 460+ models
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ schemas\                       # Pydantic Schemas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo.py               # Request/Response schemas
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tramitacao.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ minuta.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assinatura.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ propositura.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ usuario.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ token.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...                        # Schemas para todas as 477 tabelas
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ services\                      # Business logic
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ protocolo_service.py       # Regras de negÃ³cio
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ tramitacao_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ minuta_service.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ assinatura_service.py      # ICP-Brasil
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ arquivo_service.py         # Upload/Download
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ lightrag_service.py        # RAG + LLM
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ relatorio_service.py       # 30+ relatÃ³rios
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ notificacao_service.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ middleware\                    # Custom middlewares
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ request_id.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ timing.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ rate_limit.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ audit_log.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ utils\                         # UtilitÃ¡rios
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ date_utils.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ file_utils.py
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pdf_utils.py               # iText 8
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ encryption.py              # Criptografia
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ validators.py
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ formatters.py
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ tasks\                         # Celery tasks
â”‚   â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚       â”œâ”€â”€ relatorios.py
â”‚   â”‚   â”‚       â”œâ”€â”€ notificacoes.py
â”‚   â”‚   â”‚       â””â”€â”€ migrations.py
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ tests\                             # Testes
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ conftest.py
â”‚   â”‚   â”‚   â”œâ”€â”€ test_api\
â”‚   â”‚   â”‚   â”œâ”€â”€ test_crud\
â”‚   â”‚   â”‚   â”œâ”€â”€ test_services\
â”‚   â”‚   â”‚   â””â”€â”€ test_utils\
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ main.py                            # âœ… CRIADO - AplicaÃ§Ã£o principal
â”‚   â”‚   â”œâ”€â”€ requirements.txt                   # DependÃªncias Python
â”‚   â”‚   â”œâ”€â”€ pyproject.toml                     # Poetry config
â”‚   â”‚   â”œâ”€â”€ Dockerfile                         # Docker
â”‚   â”‚   â”œâ”€â”€ .dockerignore
â”‚   â”‚   â”œâ”€â”€ .env.example                       # Template de variÃ¡veis
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸŸ¦ nestjs-backend\                     # Backend TypeScript + NestJS
â”‚   â”‚   â”œâ”€â”€ src\
â”‚   â”‚   â”‚   â”œâ”€â”€ main.ts                        # Entry point
â”‚   â”‚   â”‚   â”œâ”€â”€ app.module.ts
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ files\                         # MÃ³dulo de arquivos
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ files.module.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ files.controller.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ files.service.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dto\
â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ upload-file.dto.ts
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ file-metadata.dto.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ schemas\
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ file.schema.ts         # MongoDB schema
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ processing\                    # Processamento de PDFs
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ processing.module.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ processing.service.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ processors\
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ pdf.processor.ts
â”‚   â”‚   â”‚   â”‚       â”œâ”€â”€ docx.processor.ts
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ image.processor.ts
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ queue\                         # Bull queue
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ queue.module.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ processors\
â”‚   â”‚   â”‚   â”‚       â””â”€â”€ file-processing.processor.ts
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ database\
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ mongodb.provider.ts
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ common\
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ filters\
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ guards\
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ interceptors\
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ pipes\
â”‚   â”‚   â”‚   â”‚
â”‚   â”‚   â”‚   â””â”€â”€ config\
â”‚   â”‚   â”‚       â””â”€â”€ configuration.ts
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ test\
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â”œâ”€â”€ tsconfig.json
â”‚   â”‚   â”œâ”€â”€ nest-cli.json
â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”‚
â”‚   â””â”€â”€ âš›ï¸ react-frontend\                     # Frontend React 19
â”‚       â”œâ”€â”€ public\
â”‚       â”‚   â”œâ”€â”€ index.html
â”‚       â”‚   â””â”€â”€ assets\
â”‚       â”‚
â”‚       â”œâ”€â”€ src\
â”‚       â”‚   â”œâ”€â”€ main.tsx                       # Entry point
â”‚       â”‚   â”œâ”€â”€ App.tsx
â”‚       â”‚   â”œâ”€â”€ index.css
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ assets\                        # Imagens, Ã­cones
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ components\                    # Componentes reutilizÃ¡veis
â”‚       â”‚   â”‚   â”œâ”€â”€ common\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Button\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Input\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Table\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Modal\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Form\
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ layout\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Footer.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ MainLayout.tsx
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ features\                  # Componentes especÃ­ficos
â”‚       â”‚   â”‚       â”œâ”€â”€ protocolos\
â”‚       â”‚   â”‚       â”œâ”€â”€ tramitacao\
â”‚       â”‚   â”‚       â”œâ”€â”€ minutas\
â”‚       â”‚   â”‚       â”œâ”€â”€ assinaturas\
â”‚       â”‚   â”‚       â””â”€â”€ ...
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ pages\                         # PÃ¡ginas (265 funcionalidades!)
â”‚       â”‚   â”‚   â”œâ”€â”€ Dashboard\
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Protocolos\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ListaProtocolos.tsx    # Pesquisa simples/avanÃ§ada
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ IncluirProtocolo.tsx   # 24 tipos de inclusÃ£o
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ DetalhesProtocolo.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ EditarProtocolo.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Tramitacao\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Tramitar.tsx           # 22 pÃ¡ginas de tramitaÃ§Ã£o
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Receber.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Distribuir.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ GuiaTramitacao.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Minutas\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ListaMinutas.tsx       # 26 pÃ¡ginas de minutas
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ IncluirMinuta.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AvaliarMinuta.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ TramitarMinuta.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Assinaturas\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ AssinadorDigital.tsx   # 15 pÃ¡ginas de assinatura
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ListaAssinaturas.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ ValidarAssinatura.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Expedicao\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Expedir.tsx            # 18 pÃ¡ginas
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ GuiaExpedicao.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Relatorios\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx              # 30+ relatÃ³rios
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ RelatorioTramitacao.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ RelatorioProducao.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Pesquisa\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ PesquisaSimples.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ PesquisaAvancada.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ PesquisaInteligente.tsx # LightRAG
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â”œâ”€â”€ Gestao\
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Arquivar.tsx
â”‚       â”‚   â”‚   â”‚   â”œâ”€â”€ Eliminar.tsx
â”‚       â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚   â”‚
â”‚       â”‚   â”‚   â””â”€â”€ Auth\
â”‚       â”‚   â”‚       â”œâ”€â”€ Login.tsx
â”‚       â”‚   â”‚       â”œâ”€â”€ RecuperarSenha.tsx
â”‚       â”‚   â”‚       â””â”€â”€ AlterarSenha.tsx
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ hooks\                         # Custom hooks
â”‚       â”‚   â”‚   â”œâ”€â”€ useProtocolo.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useTramitacao.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useMinuta.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ useUpload.ts
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ services\                      # API clients
â”‚       â”‚   â”‚   â”œâ”€â”€ api.ts                     # Axios config
â”‚       â”‚   â”‚   â”œâ”€â”€ protocoloService.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ tramitacaoService.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ minutaService.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ assinaturaService.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ store\                         # Zustand store
â”‚       â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ authStore.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ protocoloStore.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ tramitacaoStore.ts
â”‚       â”‚   â”‚   â””â”€â”€ uiStore.ts
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ types\                         # TypeScript types
â”‚       â”‚   â”‚   â”œâ”€â”€ protocolo.types.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ tramitacao.types.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ usuario.types.ts
â”‚       â”‚   â”‚   â””â”€â”€ ...
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ utils\
â”‚       â”‚   â”‚   â”œâ”€â”€ constants.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ formatters.ts
â”‚       â”‚   â”‚   â”œâ”€â”€ validators.ts
â”‚       â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ styles\
â”‚       â”‚       â”œâ”€â”€ theme.ts                   # Ant Design theme
â”‚       â”‚       â””â”€â”€ global.css
â”‚       â”‚
â”‚       â”œâ”€â”€ package.json
â”‚       â”œâ”€â”€ tsconfig.json
â”‚       â”œâ”€â”€ vite.config.ts
â”‚       â”œâ”€â”€ tailwind.config.js
â”‚       â”œâ”€â”€ Dockerfile
â”‚       â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ”„ migration\                              # Scripts de migraÃ§Ã£o
â”‚   â”œâ”€â”€ sql_to_postgres\
â”‚   â”‚   â”œâ”€â”€ migrate_schema.py                  # Migra schema
â”‚   â”‚   â”œâ”€â”€ migrate_data.py                    # Migra dados (477 tabelas)
â”‚   â”‚   â”œâ”€â”€ migrate_files.py                   # Migra arquivos
â”‚   â”‚   â”œâ”€â”€ validate_migration.py              # Valida integridade
â”‚   â”‚   â””â”€â”€ rollback.py                        # Rollback
â”‚   â”‚
â”‚   â”œâ”€â”€ legacy_connection.py                   # ConexÃ£o SQL Server
â”‚   â”œâ”€â”€ mapping_tables.json                    # Mapeamento de tabelas
â”‚   â”œâ”€â”€ migration_plan.md                      # Plano de migraÃ§Ã£o
â”‚   â””â”€â”€ README.md
â”‚
â”œâ”€â”€ ğŸ“Š data\                                   # Dados locais
â”‚   â”œâ”€â”€ lightrag\                              # LightRAG working dir
â”‚   â”œâ”€â”€ uploads\                               # Uploads temporÃ¡rios
â”‚   â”œâ”€â”€ logs\                                  # Logs da aplicaÃ§Ã£o
â”‚   â””â”€â”€ backups\                               # Backups
â”‚
â”œâ”€â”€ ğŸ“ docs\                                   # DocumentaÃ§Ã£o
â”‚   â”œâ”€â”€ api\
â”‚   â”‚   â”œâ”€â”€ openapi.json                       # OpenAPI spec
â”‚   â”‚   â””â”€â”€ postman_collection.json
â”‚   â”‚
â”‚   â”œâ”€â”€ architecture\
â”‚   â”‚   â”œâ”€â”€ system_design.md
â”‚   â”‚   â”œâ”€â”€ database_schema.md
â”‚   â”‚   â”œâ”€â”€ api_design.md
â”‚   â”‚   â””â”€â”€ diagrams\
â”‚   â”‚
â”‚   â”œâ”€â”€ user_guide\
â”‚   â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”‚   â”œâ”€â”€ uso_basico.md
â”‚   â”‚   â””â”€â”€ funcionalidades.md
â”‚   â”‚
â”‚   â””â”€â”€ developer_guide\
â”‚       â”œâ”€â”€ setup_dev.md
â”‚       â”œâ”€â”€ contributing.md
â”‚       â”œâ”€â”€ code_style.md
â”‚       â””â”€â”€ testing.md
â”‚
â”œâ”€â”€ ğŸ”§ scripts\                                # Scripts Ãºteis
â”‚   â”œâ”€â”€ setup_dev.sh                           # Setup ambiente dev
â”‚   â”œâ”€â”€ backup_db.sh                           # Backup banco
â”‚   â”œâ”€â”€ restore_db.sh                          # Restore banco
â”‚   â”œâ”€â”€ generate_models.py                     # Gera models das 477 tabelas
â”‚   â”œâ”€â”€ generate_schemas.py                    # Gera schemas Pydantic
â”‚   â”œâ”€â”€ generate_cruds.py                      # Gera CRUDs
â”‚   â””â”€â”€ seed_database.py                       # Popula banco com dados teste
â”‚
â”œâ”€â”€ ğŸ³ docker-compose.yml                      # OrquestraÃ§Ã£o completa
â”œâ”€â”€ docker-compose.dev.yml                     # Ambiente dev
â”œâ”€â”€ docker-compose.prod.yml                    # Ambiente prod
â”‚
â”œâ”€â”€ .env.example                               # Template variÃ¡veis de ambiente
â”œâ”€â”€ .gitignore
â”œâ”€â”€ .dockerignore
â”œâ”€â”€ Makefile                                   # Comandos Ãºteis
â””â”€â”€ README.md                                  # README principal do projeto
```

---

## ğŸ“Š ESTATÃSTICAS DO PROJETO

### Backend FastAPI

| Item | Quantidade | Status |
|------|------------|--------|
| Models (SQLAlchemy) | 477 | ğŸŸ¡ A gerar |
| Schemas (Pydantic) | 477 | ğŸŸ¡ A gerar |
| CRUD classes | 477 | ğŸŸ¡ A gerar |
| API Endpoints | 265+ | ğŸŸ¡ A gerar |
| Services | 50+ | ğŸŸ¡ A gerar |
| Middlewares | 5 | ğŸŸ¢ Base criada |

### Frontend React

| Item | Quantidade | Status |
|------|------------|--------|
| PÃ¡ginas | 265 | ğŸŸ¡ A gerar |
| Componentes | 200+ | ğŸŸ¡ A gerar |
| Hooks customizados | 50+ | ğŸŸ¡ A gerar |
| Services (API clients) | 30+ | ğŸŸ¡ A gerar |
| Types TypeScript | 477 | ğŸŸ¡ A gerar |

### MigraÃ§Ã£o

| Item | Quantidade | Status |
|------|------------|--------|
| Tabelas para migrar | 477 | ğŸŸ¡ Planejado |
| Registros totais | ~15,7M | ğŸŸ¡ Planejado |
| Arquivos para migrar | ~814.000 | ğŸŸ¡ Planejado |
| Tamanho total arquivos | ~715 GB | ğŸŸ¡ Planejado |

---

## ğŸš€ PRÃ“XIMOS ARQUIVOS A SEREM GERADOS

Devido ao tamanho massivo do projeto, vou gerar os arquivos em **mÃ³dulos**:

### MÃ³dulo 1: Core e Database âœ…
- [x] main.py
- [x] app/core/config.py
- [ ] app/core/database.py
- [ ] app/core/redis.py
- [ ] app/core/mongodb.py
- [ ] app/core/security.py
- [ ] app/core/logging_config.py

### MÃ³dulo 2: Models Principais (Top 20 tabelas)
- [ ] app/models/base.py
- [ ] app/models/protocolo.py
- [ ] app/models/protocolo_documento.py
- [ ] app/models/protocolo_arquivo.py
- [ ] app/models/documento_assinatura.py
- [ ] ... (continua)

### MÃ³dulo 3: Schemas Principais
- [ ] app/schemas/protocolo.py
- [ ] app/schemas/tramitacao.py
- [ ] app/schemas/minuta.py
- [ ] ... (continua)

### MÃ³dulo 4: CRUDs e Services
- [ ] app/crud/crud_protocolo.py
- [ ] app/services/protocolo_service.py
- [ ] ... (continua)

### MÃ³dulo 5: API Endpoints
- [ ] app/api/v1/endpoints/protocolos.py
- [ ] app/api/v1/endpoints/tramitacao.py
- [ ] ... (continua)

---

## ğŸ’¡ ESTRATÃ‰GIA DE GERAÃ‡ÃƒO

Para gerenciar as **477 tabelas** de forma eficiente, vou usar:

1. **Generator scripts** - Scripts Python que geram cÃ³digo automaticamente
2. **Templates** - Templates Jinja2 para models, schemas, CRUDs
3. **Metadados** - Extrair metadados do SQL Server e gerar cÃ³digo
4. **PriorizaÃ§Ã£o** - ComeÃ§ar pelas 20 tabelas mais importantes
5. **ModularizaÃ§Ã£o** - Agrupar tabelas relacionadas

---

## ğŸ¯ ORDEM DE DESENVOLVIMENTO RECOMENDADA

### Fase 1: Foundation (1-2 dias)
1. Core (config, database, security) âœ… Iniciado
2. Authentication & Authorization
3. Base CRUD & Models
4. API structure

### Fase 2: Principais MÃ³dulos (1-2 semanas)
1. **Protocolos** (tabela principal)
2. **TramitaÃ§Ã£o** (fluxo crÃ­tico)
3. **Documentos/Arquivos**
4. **Assinaturas Digitais**
5. **Minutas**

### Fase 3: MÃ³dulos SecundÃ¡rios (2-3 semanas)
1. Proposituras Legislativas
2. RelatÃ³rios
3. Pesquisa (LightRAG)
4. GestÃ£o Documental
5. ComunicaÃ§Ã£o

### Fase 4: Frontend (2-3 semanas)
1. Layout e componentes base
2. Dashboard
3. PÃ¡ginas principais
4. IntegraÃ§Ã£o com APIs

### Fase 5: MigraÃ§Ã£o (1-2 semanas)
1. Scripts de migraÃ§Ã£o
2. ValidaÃ§Ã£o de dados
3. MigraÃ§Ã£o de arquivos
4. Testes de integridade

### Fase 6: Deploy (1 semana)
1. CI/CD
2. Monitoramento
3. DocumentaÃ§Ã£o final
4. Treinamento

**TEMPO TOTAL ESTIMADO:** 2-3 meses

---

## ğŸ“ NOTAS IMPORTANTES

### DecisÃµes Arquiteturais

1. **PostgreSQL vs SQL Server**
   - MigraÃ§Ã£o completa para PostgreSQL
   - SQL Server mantido apenas como fonte de migraÃ§Ã£o

2. **MongoDB para Arquivos**
   - GridFS para arquivos grandes
   - Metadados em PostgreSQL
   - ReferÃªncias entre bancos

3. **Redis para Cache**
   - Cache de sessÃµes
   - Cache de consultas frequentes
   - Rate limiting

4. **LightRAG para Pesquisa**
   - Pesquisa semÃ¢ntica
   - RAG com LLMs
   - Embeddings de documentos

5. **ModularizaÃ§Ã£o**
   - MicroserviÃ§os quando necessÃ¡rio
   - Monolito modular por padrÃ£o
   - APIs REST + GraphQL (futuro)

### SeguranÃ§a

- âœ… JWT para autenticaÃ§Ã£o
- âœ… HTTPS obrigatÃ³rio em produÃ§Ã£o
- âœ… Rate limiting
- âœ… CORS configurado
- âœ… ValidaÃ§Ã£o de inputs
- âœ… SQL injection protection (ORM)
- âœ… Logs de auditoria

---

**PrÃ³ximo passo:** Continuar gerando os arquivos core do backend!